*,
*:before,
*:after {
    box-sizing: border-box;
    outline: none;
}

html,
body {
    height: 100%;
}

$card-size: 60px;
$card-size-bigger-device: 120px;
$device-bigger: 600px;
[ng-cloak] {
    opacity: 0;
}

body {
    min-height: 100%;
    margin: 0;
    font: 20px sans-serif;
    background: linear-gradient(to left, dodgerblue, #345);
}

@for $i from 1 through 8 {
    .theme#{$i} {
        background: hsla(($i - 1)*45, 70%, 50%, .7);
    }
}

button {
    background: none;
    border: none;
    padding: 0;
    font: inherit;
    color: inherit;
    border-bottom: 1px solid currentColor;
    cursor: pointer;
    // Remove blink effect on mobile device button click
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.app-ready {
    opacity: 1;
}

.app {
    display: block;
    opacity: 0;
    transition: opacity 1.5s;
    color: white;
    &.app-ready {
        opacity: 1;
    }
    &__hud {
        background: rgba(0, 0, 0, .1);
        text-align: center;
        padding: 1em;
        &__game-info,
        &__game-completed {
            display: inline-block;
            margin-right: 1em;
        }
        &__game-status {
            display: inline-block;
            font-size: 70%;
            margin-right: 1em;
        }
        &__btn-restart {
            font-size: 70%;
        }
    }
    &__cards-container {
        margin: 5px auto 0;
        max-width: 320px;
        @media(min-width: $device-bigger) {
            max-width: $device-bigger;
        }
        display: flex;
        justify-content: center;
        align-items: center;
        flex-flow: row wrap;
        &__card {
            display: inline-block;
            user-select: none;
            margin: 5px;
            overflow: hidden;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);            
            animation: intro-in 1s;
            width: $card-size;
            height: $card-size;
            @media(min-width: $device-bigger) {
                width: $card-size-bigger-device;
                height: $card-size-bigger-device;
            }
            @for $i from 1 through 16 {
                &:nth-child(#{$i}) {
                    .front {
                        > span {
                            animation-delay: #{$i / 1.5}s;
                        }
                    }
                }
            }
            &.ng-leave {
                opacity: 1;
                transform: scale(1, 1);
                transition: 2s ease-in-out;
            }
            &.ng-leave.ng-leave-active {
                opacity: .1;
                width: 0;
                margin: 0;
                transform: scale(0, 0);
            }
            &__front {
                text-align: center;
                line-height: $card-size;
                @media(min-width: $device-bigger) {
                    line-height: $card-size-bigger-device;
                }
                background: rgba(255, 255, 255, .1);
                cursor: pointer;
                > span {
                    display: block;
                    font-weight: 700;
                    animation: front-cover 5s ease-in-out alternate infinite;
                }
                &:hover {
                    background: rgba(255, 255, 255, .3);
                }
            }
            &__back {
                transition: opacity 1s;
                text-align: center;
                line-height: $card-size;
                //visibility: hidden;
                @media(min-width: $device-bigger) {
                    line-height: $card-size-bigger-device;
                }
                font-size: 40px;
                @media(min-width: $device-bigger) {
                    font-size: 80px;
                }
                &.app-ready {
                    //visibility: visible;
                }
                > span {
                    display: block;
                    animation: back-cover 2s ease-in-out alternate infinite;
                }
            }
        }
    }
}

@keyframes back-cover {
    0% {
        transform: scale(1);
    }
    100% {
        transform: scale(1.2);
    }
}

@keyframes front-cover {
    0% {
        color: white;
    }
    100% {
        color: lightblue;
    }
}


.ng-enter {
    // anim is disabled in code    
}

.ng-enter.ng-enter-active,
{
    // anim is disabled in code
}

.ng-enter-stagger {
    transition-delay: 0.1s;
    transition-duration: 0s;
}

.ng-leave-stagger {
    transition-delay: 0.1s;
    transition-duration: 0s;
}

@keyframes intro-in {
    0% {        
        opacity: .5;
    }
    100% {
        opacity: 1;
    }
}
